<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <!--
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
    -->
</head>
<body>

  <form action="/submit" method="post">
    <input type="text" name="user_input" placeholder="Enter something">
    <button type="submit">Submit</button>
  </form>

<style>
  .card {
    position: absolute;
    top: 50px; /* Adjust top position */
    left: 100px; /* Adjust left position */
    cursor: move; /*Adds a move cursor to indicate draggable */
  }
</style>

<style>
    #div1 {
    width: 70px;
    height: 150px;
    padding: 100px;
    border: 1px solid #ff0000;
    }

</style>

<!--images and id-->
<div id="cardContainer">
  <img src="images/Card.jpg" class="card" id="card1" height="300">
  <img src="images/Card.jpg" class="card" id="card2" height="300">
  <img src="images/Card.jpg" class="card" id="card3" height="300">
  
</div>

<script>
  // Select all elements with class 'card' and make them draggable
  var cards = document.getElementsByClassName("card");

  // Loop through each card and make it draggable
  for (var i = 0; i < cards.length; i++) {
    dragElement(cards[i]);
  }

  function dragElement(elmnt) {
    var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    
    elmnt.onmousedown = dragMouseDown;
    
    function dragMouseDown(ev) {
      ev = ev || window.event;
      ev.preventDefault();
      // get the mouse cursor position at startup:
      pos3 = ev.clientX;
      pos4 = ev.clientY;
      document.onmouseup = closeDragElement;
      // call a function whenever the cursor moves:
      document.onmousemove = elementDrag;
      //carry data
      ev.dataTransfer.setData("text", ev.target.id);
    }

    function elementDrag(ev) {
      ev = ev || window.event;
      // calculate the new cursor position:
      pos1 = pos3 - ev.clientX;
      pos2 = pos4 - ev.clientY;
      pos3 = ev.clientX;
      pos4 = ev.clientY;
      
      // set the element's new position:
      elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
      elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    }

    //allows it to be dropped onto other elements
    function allowDrop(ev) {
    ev.preventDefault();
    }

    function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
    }

    function closeDragElement() {
      // stop moving when mouse button is released:
      document.onmouseup = null;
      document.onmousemove = null;
    }
  }
</script>

<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
<br>
<img id="drag1" src="images/temp.png" ondragstart="elementDrag(event)" width="140" height="300">

</body>
</html>
