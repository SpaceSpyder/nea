<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .sidenav {
            height: 100%;
            width: 252px;
            position: fixed;
            z-index: -1; 
            top: 0;
            left: 0;
            background-color: #c3846b;
            overflow-x: hidden;
            padding-top: 80px;
        }

        .sidenav a {
            padding: 5px 15px 10px 15px;
            text-decoration: none;
            font-size: 25px;
            color: #000000;
            display: block;
        }

        .sidenav a:hover {
            color: #272727;
        }

        .main {
            margin-left: 252px; /* Match the width of the sidenav */
            font-size: 28px;
            padding: 0px 10px;
        }

        @media screen and (max-height: 450px) {
            .sidenav {
                padding-top: 15px;
            }
            .sidenav a {
                font-size: 18px;
            }
        }
    </style>
</head>

<body>
    <nav>
        <ul class="navbar">
            <li class="navbar-left">
                <a href="/index">Home</a>
                <a href="/testGame">Play</a>
                <a href="">How to Play</a>
            </li>

            <li class="float-right navbar-right">
                <a href="/profile" id="cookie-link">Cookie Value</a>
                <a href="/profile"><img src="images/profilePics/Default.png" alt="Profile Picture" class="nav-profile-pic"></a>
            </li>
        </ul>
    </nav>

    <script>
        function getCookie(name) {
            let cookies = document.cookie.split('; '); // Splits the cookies into an array
            for (let cookie of cookies) {
                let [cookieName, cookieValue] = cookie.split('=');
                if (cookieName.trim() === name) { // Trim spaces around cookie name
                    return decodeURIComponent(cookieValue);
                }
            }
            return null;
        }

        // Function to update the "Cookie Value" link text
        function updateCookieLink() {
            let cookieValue = getCookie('username'); // Replace 'username' with the actual cookie name
            let element = document.getElementById('cookie-link');
            if (cookieValue) {
                element.textContent = cookieValue; // Update the link text with the username
                element.href = '/profile'; // Link to the profile page
            } else {
                element.textContent = 'Log In'; // Default text if cookie is not found
                element.href = '/login'; // Link to login page
            }
        }

        // Call the function to update the link text when the page loads
        window.onload = updateCookieLink;
    </script>

    <div class="sidenav">
        <a href="/profile">
            <img src="images/profilePics/Default.png" alt="Profile Picture" width="220">
        </a>
        <a href="/profile" id="cookie-link">Cookie Value</a> <!-- This will now show the username -->
        <a href="#stats">Stats</a>
        <a href="#decks">Decks</a>
    </div>

    <div class="main">
        <!-- Main content goes here -->
    </div>
</body>
</html>
